function b(a,d,f){a.addEventListener?a.addEventListener(d,f,!1):a.attachEvent("on"+d,f)}function c(a,d){var f,g,p=a.offsetLeft,q=a.offsetTop;for(a=a.offsetParent;null!=a;)p=parseInt(p)+parseInt(a.offsetLeft),q=parseInt(q)+parseInt(a.offsetTop),a=a.offsetParent;-1!=navigator.appVersion.indexOf("MSIE")?(g="CSS1Compat"==document.compatMode?document.documentElement:document.body,f=d.clientX+g.scrollLeft,g=d.clientY+g.scrollTop):(f=d.pageX,g=d.pageY);return[f-p,g-q]} var e=document.getElementById("video"),h=document.getElementById("controls"),j=document.getElementById("play"),k=document.getElementById("mute"),l=document.getElementById("volume"),m=document.getElementById("volumelevel"),n=document.getElementById("time"),r=document.getElementById("position"),s=document.getElementById("preload"),t=document.getElementById("currentposition"),u=document.getElementById("fullscreen"),v="play",w=1,x=!1,y=!1,z="00";e.play();e.volume=w;m.style.width=100*w+"px"; b(j,"click",function(){"play"===v?(v="pause",e.pause(),j.className="button play"):(v="play",e.play(),j.className="button pause")});b(e,"ended",function(){v="replay";j.className="button replay"});b(u,"click",function(){y=!y;e.className=y?"fullscreen":"";h.className=y?"fullscreen":""});b(k,"click",function(){video.muted?(e.volume=w,k.className="button unmute"):(e.volume=0,k.className="button mute");video.muted=!video.muted}); b(l,"mousedown",function(a){x=!0;a=c(this,a);m.style.width=Math.min(100,a[0])+"px";e.volume=w=Math.min(100,a[0])/100});b(l,"mouseup",function(){x=!1});b(l,"mousemove",function(a){x&&(a=c(this,a),m.style.width=Math.min(100,a[0])+"px",e.volume=Math.min(100,a[0])/100,l=Math.min(100,a[0])/100)});b(r,"mousedown",function(){x=!0});b(r,"mouseup",function(a){x=!1;video.currentTime=c(this,a)[0]*e.duration/300});b(r,"mousemove",function(a){x&&(t.style.width=c(this,a)[0]+"px")}); setInterval(function(){"00"===z&&(z=("0"+(Math.floor(e.duration)||0)).slice(-2));x||(t.style.width=300*(e.currentTime/e.duration)+"px");n.innerHTML="0:"+("0"+Math.floor(e.currentTime)).slice(-2)+" / 0:"+z},100);setInterval(function(){try{s.style.width=300*(e.buffered.end(0)/e.duration)+"px"}catch(a){}},100)